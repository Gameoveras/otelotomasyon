<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Otel Rezervasyon Sayfası</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha384-your_actual_integrity_value">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.1.3/flatly/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.141.0/build/three.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha384-your_actual_integrity_value">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

 
  <style>
   body {
    font-family: sans-serif;
    background-color: #f3f5f7;
    color: #333;
  }
  .foot {
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: black;
    color: white;
    text-align: center;
    font-style: inherit;
}
  
  a {
    text-decoration: none;
    color: #007bff;
  }
  
  a:hover {
    text-decoration: none;
  }
  
  h1, h2, h3 {
    font-weight: bold;
    overflow: hidden;

  }
  
  /* Header */
  header {
    background-color: #007bff;
    color: #fff;
    padding: 10px 0;
  }
  
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
  }
  
  .logo {
    margin: 0;
  }
  
  .menu {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
  }
  
  .menu li {
    margin-right: 15px;
  }
  
  .menu a {
    text-decoration: none;
    color: #fff;
    font-weight: bold;
    padding: 10px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }
  
  .menu a:hover {
    background-color: #0056b3;
  }
  
  .menu a.active {
    background-color: #0056b3;
  }

  h1 {
    margin-bottom: 0;
    overflow: hidden;

  }
  
  /* Carousel */
  .carousel {
    margin-bottom: 30px;
  }
  
  .carousel-item {
    height: 400px;
    overflow: hidden;
  }
  
  .carousel-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  /* Odalar Bölümü */
  section.row {
    display: flex;
    flex-wrap: wrap;
    margin-bottom: 30px;
  }
  
  .col-md-6 {
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
  }
  
  figure {
    margin-bottom: 15px;
  }
  
  figcaption {
    text-align: center;
    font-size: 0.8em;
    color: #999;
  }
  
  h2 {
    margin-bottom: 5px;
    overflow: hidden;

  }
  
  p {
    line-height: 1.6;
    overflow: hidden;

  }
  
  /* Rezervasyon Formu */
  section#rezervasyon {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .form-control {
    border-radius: 5px;
    border: 1px solid #ddd;
  }
  
  .btn-primary {
    background-color: #007bff;
    border-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
  }
  
  /* Rezervasyon Kutucuğu */
.rezervasyon-kutucuk {
  background-color: #fff;
  padding: 20px;
  border-radius: 5px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  margin-top: 30px;
  width: 300px; 
}

.rezervasyon-kutucuk h2 {
  font-size: 1.5em;
  margin-bottom: 20px;
  color: #007bff;
}

.rezervasyon-kutucuk form {
  display: flex;
  flex-direction: column;
}

.rezervasyon-kutucuk label {
  margin-bottom: 5px;
}

.rezervasyon-kutucuk .mb-3 {
  margin-bottom: 15px;
}

.rezervasyon-kutucuk button {
  align-self: flex-end;
}

.selected {
  border: 2px solid red; 
}

  
  #rezervasyon button.btn-primary {
    background-color: #28a745;
    border-color: #28a745;
  }
  
  .carousel {
    margin-bottom: 30px;
    border-radius: 10px;
    overflow: hidden;
  }
  
  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    background-color: #28a745;
  }
  
  /* Footer */
  footer {
    padding: 20px;
    text-align: center;
    background-color: #fff;
    border-top: 1px solid #ddd;
  }
  
  footer p {
    margin-bottom: 10px;
  }
  
  footer a {
    color: #007bff;
    text-decoration: none;
  }
  
  footer a:hover {
    text-decoration: underline;
  }
  
  /* AirBnb Özellikleri */
  .col-md-6:first-child {
    background-color: #f8f9fa;
  }
  
  .col-md-6:first-child p {
    color: #999;
  }
  
  /* Otel Bilgileri ve Rezervasyon Kutucuğu Yan Yana */
.row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  flex-wrap: wrap;
}

.col-md-6 {
  box-sizing: border-box;
  width: 50%;
  margin-bottom: 20px;
  overflow: hidden;

}

@media (max-width: 768px) {
  .col-md-6 {
    width: 100%;
  }
}

  
  .otel-ozellikleri {
    width: 48%; 
    box-sizing: border-box;
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    margin-bottom: 30px;
  }
  
  .col-md-6 h2 {
    margin-bottom: 5px;
  }
  
  .col-md-6 p {
    line-height: 1.6;
    margin-bottom: 10px;
  }
  
  .otel-ozellikleri h3 {
    font-size: 1.5em;
    margin-bottom: 10px;
  }
  
  .otel-ozellikleri ul {
    list-style: none;
    padding: 0;
  }
  
  .otel-ozellikleri ul li {
    margin-bottom: 5px;
  }
  
  .otel-ozellikleri ul li i {
    color: #007bff;
    margin-right: 5px;
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  .col-md-6,
  .otel-ozellikleri {
    animation: fade-in 0.5s ease-in;
  }
  
  .col-md-6,
  .otel-ozellikleri {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
  }
  
  .col-md-6:hover,
  .otel-ozellikleri:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
  
  .col-md-6:last-child {
    padding-top: 30px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  .col-md-6:last-child .mb-3 {
    margin-bottom: 20px;
  }
  
  .col-md-6:last-child h3 {
    font-size: 1.5em;
    margin-bottom: 10px;
  }
  
  .col-md-6:last-child ul {
    list-style: none;
    padding: 0;
  }
  
  .col-md-6:last-child ul li {
    margin-bottom: 5px;
  }
  
  .col-md-6:last-child ul li i {
    color: #007bff;
    margin-right: 5px;
  }
  
  .col-md-6:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-5px);
    transition: box-shadow 0.3s ease, transform 0.3s ease;
  }
  
  /* Responsiv Ayarları */
  @media (max-width: 768px) {
    .col-md-6 {
      width: 100%;
    }
  }
  /* Yorumlar ve Yorum Ekleme Formu Tasarımı */
.yorumlar {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-start;
}

.yorumlar .yorum {
    width: 48%;
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    box-sizing: border-box;
    background-color: #f8f9fa;
    position: relative;
    transition: background-color 0.3s ease;
}

.yorumlar .yorum:hover {
    background-color: #007bff;
    color: #fff;
}

.yorumlar .yorum h3 {
    font-size: 1.5em;
    margin-bottom: 20px;
    color: #007bff;
}

.yorumlar .yorum-puan {
    color: #ffc107;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.yorumlar .yorum-puan i {
    font-size: 1.2em;
    color: #007bff;
    margin-right: 5px;
}

.yorumlar .yorum-icerik {
    line-height: 1.6;
    color: #555;
}

.yorum-ekle-kutucuk {
    width: 300px;
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 20px;
}

/* Yorum Ekleme Formu Tasarımı */
.yorum-ekle-kutucuk form {
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.yorum-ekle-kutucuk label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #333;
}

.yorum-ekle-kutucuk input,
.yorum-ekle-kutucuk select,
.yorum-ekle-kutucuk textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
}

.yorum-ekle-kutucuk textarea {
    height: 80px;
}

.yorum-ekle-kutucuk button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 15px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.yorum-ekle-kutucuk button:hover {
    background-color: #0056b3;
}



  /* Kullanıcı Yıldızları */
  .kullanici-yildizlar {
      font-size: 1.5em;
      color: #ffc107; /* Sarı renk */
      margin-top: 10px;
  }

.oda-cesitleri {
    display: flex;
    justify-content: space-around;
}

.oda {
    text-align: center;
    width: 150px;
}

.oda img {
    width: 100%;
    height: auto;
}

.aciklama {
    margin-top: 10px;
}
/* Favori Butonu Stili */
#favori-butonu {
    cursor: pointer;
    color: #007bff;
    font-size: 24px;
    transition: color 0.3s ease;
  }

  #favori-butonu:hover {
    color: #ff0000;
  }

  #favori-butonu.animated {
    animation: heartBeat 1s infinite;
  }

  /* Favori Butonu Animasyonu */
  @keyframes heartBeat {
    0% {
      transform: scale(1);
    }
    25% {
      transform: scale(1.1);
    }
    50% {
      transform: scale(1);
    }
    75% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }


</style>
  
</head>
<body>

<header>
    <nav class="navbar">
        <h1 class="logo">See Travel</h1>
        <ul class="menu">
          <li><a href="/" class="active">Ana Sayfa</a></li>
          <li><a href="/girisyap">Giriş</a></li>
          <li><a href="/kaydol">Kaydol</a></li>
          <li class="nav-item">
            <a class="nav-link" href="/sikayet">Şikayet</a>
        </li>
        </ul>
      </nav>
</header>

<main>
  
  {% for otel in oteller %}
    {% if otel[0] == otels[0] %}
    <section class="carousel slide" id="resimGalerisi{{ loop.index }}" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for resim in otel[9] %}
          <div class="carousel-item {% if loop.first %}active{% endif %}">
            <img src="{{ resim }}" class="d-block w-100" alt="Resim {{ loop.index }}">
          </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#resimGalerisi{{ loop.index }}" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Geri</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#resimGalerisi{{ loop.index }}" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">İleri</span>
      </button>
    </section>
      <div class="ilan">
        <div class="row">
          <div class="col-md-6">
            <figure>
              <img src="{{ otel[9] }}" class="img-fluid" alt="Otel Resimleri">
              <figcaption>Otel Resimleri</figcaption>
            </figure>
            
            <h2>{{ otel[1] }}</h2>
            <p>Yıldız Sayısı: {{ otel[5] }}</p>
            <p>İl: {{ otel[6] }}</p>
            <p>İlçe: {{ otel[7] }}</p>
            <form action="/favori-ekle/{{ otel[0] }}" method="post">
              <button type="submit" class="btn btn-primary">Favorilere Ekle</button>
            </form>
          </div>

          <div class="col-md-6 rezervasyon-kutucuk">
            <h2>Rezervasyon Yap</h2>
            <form action="/rezervasyon-yap/{{ otel[0] }}" method="post" onsubmit="return calculateTotalPrice();">
              <div class="mb-3">
                <label for="giris_tarihi">Giriş Tarihi</label>
                <input type="date" class="form-control" name="giris_tarihi" id="giris_tarihi" required>
              </div>
              <div class="mb-3">
                <label for="cikis_tarihi">Çıkış Tarihi</label>
                <input type="date" class="form-control" name="cikis_tarihi" id="cikis_tarihi" required>
              </div>
              <div class="mb-3">
                <label for="yetisin_sayisi">Yetişkin Sayısı</label>
                <select class="form-control" name="yetisin_sayisi" id="yetisin_sayisi">
                  <option value="1">1 Kişi</option>
                  <option value="2">2 Kişi</option>
                  <option value="3">3 Kişi</option>
                  <option value="4">4 Kişi</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="oda_tipi">Oda Tipi</label>
                <input type="hidden" name="otel_id" value="{{ otel[0] }}">

                <select class="form-control" name="oda_tipi" id="oda_tipi">
                  {% for oda in odalar %}
                  {% if oda[1] == otel[0] %}
                      <option value="{{ oda[2] }}">{{ oda[2] }}</option>
                  {% endif %}
                  {% endfor %}
              </select>

              <br>
              {% for otel in oteller %}
              {% if otel[0] == otels[0] %}
              <div class="mb-3">
                <label for="toplam_fiyat">Toplam Fiyat</label>
                <input type="text" class="form-control" name="toplam_fiyat" id="toplam_fiyat" readonly>
            </div>
            {% endif %}
            {% endfor %}
              <br>
              <br>
              
             
               
              <button type="submit" class="btn btn-primary">Rezervasyon Yap</button>
            </form>
          </div>
        </div>

        <section class="otel-ozellikleri">
          <h3>Otel Özellikleri</h3>
          <ul>
            {% for otel in oteller %}
              {% if otel[0] == otels[0] %}
                <li><i class="fas fa-map-marker-alt">Yıldız: </i> {{ otel[5] }}</li>
                <li><i class="fas fa-map-marker-alt"> Her şey Dahil mi? </i> {{ otel[10] }}</li>
                <li><i class="fas fa-map-marker-alt">Denize Uzaklık(m):</i> {{ otel[16] }}</li>
                <li><i class="fas fa-map-marker-alt">Günlük Fiyat:</i> {{ otel[17] }}</li>
                <li><i class="fas fa-map-marker-alt">Denize Sıfır mı?</i> {{ otel[19] }}</li>
                <li><i class="fas fa-map-marker-alt">Havuzu var mı?</i> {{ otel[20] }}</li>
                <li><i class="fas fa-map-marker-alt">Taksitli Ödeme var mı?</i> {{ otel[21] }}</li>
                <li><i class="fas fa-map-marker-alt">Diğer Özellikler:</i> {{ otel[22] }}</li>
              {% endif %}
            {% endfor %}
          </ul>

          <div class="oda-cesitleri">
            <h3>Otel Odaları</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Oda Adı</th>
                    <th>Max Kişi Sayısı</th>
                    <th>Çift Fiyat</th>
                    <th>Günlük Açıklama</th>
                    <th>Oda Resmi</th>
                </tr>
            </thead>
            <tbody>
                {% for oda in odalar %}
                    <tr>
                        <td>{{ oda[0] }}</td>
                        <td>{{ oda[2] }}</td>
                        <td>{{ oda[3] }}</td>
                        <td>{{ oda[4] }}</td>
                        <td>{{ oda[5] }}</td>
                        <td><img src="{{ oda[6] }}" alt="Oda Resmi" style="max-width: 100px;"></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        </section>
      </div>
    {% endif %}
  {% endfor %}
  ...
</main>

{% for otel in oteller %}
{% if otel[0] == otels[0] %}
<footer>
  <p><b>Otel Adresi: </b>{{ otel[6]}}</p>
  <p><b>Telefon: </b>{{ otel[12].telefon }}</p>
  <p><b>E-posta:</b> {{ otel[11].eposta }}</p>
  <a href="{{ otel[3].facebook_link }}">Facebook</a>
  <a href="{{ otel[4].instagram_link }}">Instagram</a>
</footer>
{% endif %}
{% endfor %}
<br>
<br>


{% for otel in oteller %}
{% if otel[0] == otels[0] %}
<section class="yorumlar">
  <h3>Yorumlar</h3>

  {% for yorum in otel_yorumlari %}
      <div class="yorum">
          <p class="yorum-yapan">{{ yorum[2]}}</p>
          <div class="yorum-puan">
              {% for i in range(yorum[3]) %}
                  <i class="fas fa-star"></i>
              {% endfor %}
              {% if yorum[3] < 5 %}
                  <i class="fas fa-star-half-alt"></i>
              {% endif %}
          </div>
          <p class="yorum-icerik">{{ yorum[4] }}</p>
          <div class="kullanici-yildizlar">
              {% for i in range(yorum[3]) %}
                  <i class="fas fa-star"></i>
              {% endfor %}
              {% if yorum[3] < 5 %}
                  <i class="fas fa-star-half-alt"></i>
              {% endif %}
          </div>
      </div>
  {% endfor %}

  <!-- Yorum Ekleme Formu -->
  <div class="yorum-ekle-kutucuk">
      <h3>Yorumunuzu Paylaşın</h3>
      {{otels[0]}}
      <form action="/oteller/{{ otels[0] }}/yorum-ekle" method="post">
          <input type="hidden" name="otel_id" value="{{ otels[0] }}">
          <label for="yorum-yapan">Adınız:</label>
          <input type="text" id="yorum-yapan" name="yorum-yapan" required>

          <label for="yorum-puan">Puanınız:</label>
          <select id="yorum-puan" name="yorum-puan" required>
              <option value="5">5 - Harika</option>
              <option value="4">4 - İyi</option>
              <option value="3">3 - Orta</option>
              <option value="2">2 - Kötü</option>
              <option value="1">1 - Berbat</option>
          </select>

          <label for="yorum-icerik">Yorumunuz:</label>
          <textarea id="yorum-icerik" name="yorum-icerik" rows="4" required></textarea>

          <button type="submit" id="yorum-gonder">Yorumu Gönder</button>
      </form>
  </div>
</section>

{% endif %}
{% endfor %}

</main>

<br>
<br>
<script>
    document.getElementById('favori-butonu').addEventListener('click', function() {
      this.classList.add('animate__animated', 'animate__heartBeat');
    });
  </script>


<div class="foot">
    2023 Tüm telif hakları saklıdır.
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>


<script>
    // JavaScript ile Favori Butonu İşlemleri
    document.getElementById('favori-butonu').addEventListener('click', function() {
        // Favori butonuna "animated" sınıfını ekle
        this.classList.add('animated');

        // Favori butonuna "animated" sınıfını 1 saniye sonra kaldır
        setTimeout(() => {
            this.classList.remove('animated');
        }, 1000);
    });
    


  </script>

    
  {% for otel in oteller %}
  {% if otel[0] == otels[0] %}
  <script>
    window.onload = function () {
      calculateTotalPrice();
  };
        function calculateTotalPrice() {
        var girisTarihi = new Date(document.getElementById('giris_tarihi').value);
        var cikisTarihi = new Date(document.getElementById('cikis_tarihi').value);
        var yetiskinSayisi = parseInt(document.getElementById('yetisin_sayisi').value);

        // Gün sayısını hesapla
        var kalmaGunSayisi = (cikisTarihi - girisTarihi) / (1000 * 60 * 60 * 24);

        // Toplam fiyatı hesapla
        var toplamFiyat = {{ otel[17] }} * kalmaGunSayisi * yetiskinSayisi;

        // Toplam fiyatı güncelle
        document.getElementById('toplam_fiyat').value = toplamFiyat.toFixed(2);

        // Formu gönderme
        return true;
    }
  </script>
  {% endif %}
{% endfor %}



<script>
    $(document).ready(function () {
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true
        });
    });
</script>

<script>
  
    // JavaScript ile Yorum Gönderme İşlemleri
    document.getElementById('yorum-gonder').addEventListener('click', function() {
        // Form verilerini al
        var yorumYapan = document.getElementById('yorum-yapan').value;
        var yorumPuan = document.getElementById('yorum-puan').value;
        var yorumIcerik = document.getElementById('yorum-icerik').value;

        // Yeni yorum elementi oluştur
        var yeniYorum = document.createElement('div');
        yeniYorum.classList.add('yorum');
        yeniYorum.innerHTML = `
            <p class="yorum-yapan">${yorumYapan}</p>
            <div class="yorum-puan">
                ${"★".repeat(yorumPuan)}
                ${"☆".repeat(5 - yorumPuan)}
            </div>
            <p class="yorum-icerik">${yorumIcerik}</p>
        `;

        // Yorumları içeren div'e ekle
        document.querySelector('.yorumlar').appendChild(yeniYorum);

        // Formu sıfırla
        document.getElementById('yorum-formu').reset();
    });
</script>

</body>
</html>
